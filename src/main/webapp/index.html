<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Gallery</title>

<script type="text/javascript">
<!--
	function thumbnails(tag) {
		var xmlhttp;

		if (window.XMLHttpRequest) {
			xmlhttp = new XMLHttpRequest();
		} else {
			// code for IE6, IE5
			xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
		}

		xmlhttp.onreadystatechange = function() {
			if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
				var text = xmlhttp.responseText;
				var array = JSON.parse(text);
				var html = "";

				html += '<h3>List of tags<h3>';
				for (var i = 0; i < array.length; i++) {
					html += '<input type="button" value="' + array[i]
							+ '" class="button" onClick="showPicture(\''
							+ array[i] + '\')" />';

					if ((i + 1) % 3 == 0) {
						html += '<br>';
					}
				}
				document.getElementById("thumbnails").innerHTML = html;
			}
		}

		xmlhttp.open("GET", "servlets/thumbnails?tagname=" + tag + "", true);
		xmlhttp.send();
	}
	function fillTags() {
		var xmlhttp;

		if (window.XMLHttpRequest) {
			xmlhttp = new XMLHttpRequest();
		} else {
			// code for IE6, IE5
			xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
		}

		xmlhttp.onreadystatechange = function() {
			if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
				var text = xmlhttp.responseText;
				var array = JSON.parse(text);
				var html = "";

				html += '<h3>List of tags<h3>';
				for (var i = 0; i < array.length; i++) {
					html += '<input type="button" value="' + array[i]
							+ '" class="button" onClick="thumbnails(\''
							+ array[i] + '\')" />';

					if ((i + 1) % 3 == 0) {
						html += '<br>';
					}
				}
				document.getElementById("tags").innerHTML = html;
			}
		}
		xmlhttp.open("GET", "servlets/tags", true);
		xmlhttp.send();
	}
//-->
</script>

</head>
<link href="designe.css" rel="stylesheet" type="text/css">
<body onload="fillTags();">
	<h1>Vehicle gallery</h1>
	<div id="container">
		<div id="tags">&nbsp;</div>
		<div id="thumbnails">&nbsp;</div>
	</div>

</body>
</html>